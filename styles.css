/* Base Styles & Resets */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  scroll-behavior: smooth;
}

html {
  /* Adjusted scroll-padding-top to account for sticky navbar height */
  scroll-padding-top: 60px;
}

body {
  font-family: 'Segoe UI', Arial, sans-serif;
  background: #f3f7fa; /* Light background color for the entire site */
  color: #222;
  line-height: 1.6;
}

/* Class to prevent scrolling when modal is open */
body.no-scroll {
    overflow: hidden;
}

/* Navbar Styles (Consolidated for all HTML files) */
.navbar {
    background: #254E70; /* Dark blue background */
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 5%; /* Horizontal padding */
    height: 60px; /* Fixed height for the navbar */
    position: sticky;
    top: 0;
    z-index: 1000; /* High z-index to stay on top */
    box-shadow: 0 2px 5px rgba(0,0,0,0.1); /* Subtle shadow */
}

.nav-left {
    display: flex;
    align-items: center;
}

.logo-img { /* For header logos in index.html and index3.html */
    height: 36px;
    vertical-align: middle;
    margin-right: 10px;
}

.nav-logo-text { /* For header logo text */
    font-weight: bold;
    font-size: 1.3em;
    letter-spacing: 1px;
    margin-left: 10px; /* Space from logo */
}

/* Navigation links (Consolidated for all HTML files) */
.nav-links {
    list-style: none;
    display: flex;
    margin: 0;
    padding: 0;
    font-size: smaller;
}

.nav-links li {
    margin-left: 24px; /* Space between nav items */
}

.nav-links a {
    color: #fff;
    text-decoration: none;
    font-size: 1.06em;
    font-weight: 500;
    transition: color 0.18s;
    padding: 20px 0; /* Make clickable area larger */
    display: block; /* For padding to work */
    /* Desktop: align items for icon and text if present */
    display: flex;
    align-items: center;
    gap: 5px; /* Small gap between icon and text */
    justify-content: center; /* Center content horizontally on desktop */
}

.nav-links a:hover,
.nav-links a:focus {
    color: #A7C7E7; /* Lighter blue on hover/focus */
}

.nav-links i { /* Icons within nav links */
    /* Removed transform: translateX here for desktop, will use flex gap */
    font-size: medium;
}

.nav-links div:active {
    text-decoration: underline;
}

/* Mobile Nav Toggle (for index3.html and now index.html) */
.nav-toggle,
.nav-toggle-label {
    display: none; /* Hidden by default for desktop */
}


/* Hero Section */
#hero {
  margin-top: 23px; /* Space from navbar */
  background: linear-gradient(90deg,#a1c4fd 0%, #c2e9fb 100%);
  padding: 80px 0 50px 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height:500px; /* Fixed height */
  text-align: center;
  color: #254E70; /* Text color for hero content */
}
.hero-content h1 {
  font-size: 2.8em; /* Larger heading */
  margin-bottom: 20px;
}
.hero-content p {
  font-size: 1.2em;
  max-width: 700px;
  margin: 0 auto 30px auto;
}
.hero-buttons { /* New style for hero buttons container */
    display: flex;
    gap: 20px;
    margin-top: 15px;
    flex-wrap: wrap; /* Allow wrapping on smaller screens */
    justify-content: center;
}
.hero-content button {
  background: #254E70;
  color: #fff;
  border: none;
  padding: 12px 35px;
  font-size: 1.3em;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  transition: background 0.2s, transform 0.1s;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  margin: 0; /* Reset margin from previous hero-content button style */
}
.hero-content button.secondary-cta { /* Style for the new secondary button */
    background: #5f697c; /* A slightly different color */
}
.hero-content button:hover {
  background: #3E93AA;
  transform: translateY(-2px);
}
.hero-content button.secondary-cta:hover { /* Hover for secondary button */
    background: #7a869a;
}
.hero-content button:active {
  transform: translateY(0);
}

/* Shared button style for retake */
.retake {
    background: #254E70;
    color: #fff;
    border: none;
    padding: 10px 30px;
    font-size: 1.2em;
    margin-top: 15px;
    border-radius: 8px;
    cursor: pointer;
    transition: background 0.2s;
}
.retake:hover {
    background: #3E93AA;
}

/* New Section: Why Mental Health Matters */
#why-mental-health {
    padding: 60px 5%;
    text-align: center;
    background-color: #f9f9f9; /* Slightly different background */
}
#why-mental-health h2 {
    color: #254E70;
    margin-bottom: 40px;
    font-size: 2.2em;
}
#why-mental-health .why-mental-health-content p {
    max-width: 800px;
    margin: 0 auto 40px auto;
    font-size: 1.1em;
    line-height: 1.8;
}
.why-points {
    display: flex;
    justify-content: center;
    gap: 30px;
    flex-wrap: wrap;
    margin-bottom: 50px;
}
.point-card {
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.08);
    padding: 25px;
    flex: 1 1 280px; /* Flexible width for cards */
    max-width: 320px;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    transition: transform 0.2s ease;
}
.point-card:hover {
    transform: translateY(-8px);
}
.point-card i {
    font-size: 3em;
    color: #3E93AA;
    margin-bottom: 15px;
}
.point-card h3 {
    color: #254E70;
    font-size: 1.5em;
    margin-bottom: 10px;
}
.point-card p {
    font-size: 0.95em;
    color: #555;
    line-height: 1.6;
    margin: 0; /* Reset paragraph margin */
}
.call-to-action-text {
    font-size: 1.3em;
    color: #254E70;
    font-weight: bold;
    margin-top: 30px;
    margin-bottom: 20px;
}
.button-link {
    display: inline-block; /* To apply margin/padding to the link itself */
    text-decoration: none; /* Remove underline from link */
}


/* New Section: Quick Explore */
#quick-explore {
    background: #e7f7fa; /* Light blue background */
    padding: 60px 5%;
    text-align: center;
}
#quick-explore h2 {
    color: #254E70;
    margin-bottom: 40px;
    font-size: 2.2em;
}
.quick-links-grid {
    display: flex;
    justify-content: center;
    gap: 25px;
    flex-wrap: wrap;
}
.explore-card {
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.06);
    padding: 25px;
    flex: 1 1 280px;
    max-width: 350px;
    text-decoration: none; /* Remove underline */
    color: #222;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}
.explore-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
}
.explore-card i {
    font-size: 2.5em;
    color: #254E70;
    margin-bottom: 15px;
}
.explore-card h3 {
    color: #254E70;
    font-size: 1.4em;
    margin-bottom: 10px;
}
.explore-card p {
    font-size: 0.95em;
    color: #555;
    line-height: 1.6;
    margin: 0;
}


/* Info Section (Common Mental Health Disorders) - for index3.html */
#info {
    padding: 20px;
    text-align: center;
    margin: 50px auto 0 auto; /* Added margin from previous section */
}
#info h2 {
    color: #254E70;
    margin-bottom: 30px;
    font-size: 2.2em;
}

.disorders-container, .disorders-grid { /* Combined for both index.html and index3.html */
    display: flex;
    justify-content: center; /* Center cards */
    gap: 20px;
    flex-wrap: wrap;
}
.disorder-card {
    background: #fff;
    border-radius: 10px;
    padding: 12px;
    flex: 1 1 200px; /* Allow cards to grow and shrink, min-width 200px */
    max-width: 250px; /* Limit max width for larger screens */
    margin: 8px; /* Consistent margin for wrapping */
    box-shadow: 0 2px 8px rgba(0,0,0,0.07);
    display: flex;
    flex-direction: column;
    text-align: left;
    transition: transform 0.2s ease;
    overflow: hidden; /* Ensure image corners are rounded */
}
.disorder-card:hover {
    transform: translateY(-5px);
}
.disorder-card img {
    width: 100%;
    height: 135px; /* Fixed height for images */
    object-fit: cover; /* Cover the area, crop if necessary */
    border-radius: 5px; /* Added for consistency */
    margin-bottom: 10px; /* Space below image */
}
.disorder-card h3 {
    margin-top: 0;
    color: #254E70;
    font-size: 1.4em;
    margin-bottom: 10px;
}
.disorder-card p {
    font-size: 0.95em;
    line-height: 1.5;
    flex-grow: 1; /* Make paragraphs take available space */
    margin-bottom: 15px; /* Space before link */
}
.disorder-card a {
    margin-top: auto; /* Push link to bottom */
    color: #3E93AA;
    text-decoration: none;
    font-weight: bold;
    display: inline-block; /* For padding */
    padding-top: 10px; /* Space above link */
}
.disorder-card a:hover {
    text-decoration: underline;
}

/* Stories Section */
#stories {
    background: #e7f7fa;
    margin-top: 70px;
    padding: 60px 5%; /* Increased padding for more breathing room */
    text-align: center;
}
#stories h2 {
    color: #254E70;
    margin-bottom: 40px; /* More space below heading */
    font-size: 2.2em;
}
.story-list, .stories-container { /* Combined for both index.html and index3.html */
    display: flex;
    justify-content: center; /* Center story cards */
    gap: 25px; /* Increased gap between cards */
    margin-bottom: 40px; /* More space below the story list */
    flex-wrap: wrap;
}
.story-card {
    background: #fff;
    border-radius: 12px; /* More rounded corners */
    padding: 25px; /* Increased padding */
    min-width: 280px; /* Slightly larger min-width */
    max-width: 350px; /* Max width for consistency */
    box-shadow: 0 8px 20px rgba(0,0,0,0.1); /* More pronounced shadow */
    flex: 1 1 280px;
    display: flex;
    flex-direction: column;
    text-align: left;
    transition: transform 0.3s ease, box-shadow 0.3s ease; /* Smoother transitions */
    border: 1px solid #e0e0e0; /* Subtle border */
}
.story-card:hover {
    transform: translateY(-10px); /* More noticeable lift on hover */
    box-shadow: 0 12px 25px rgba(0,0,0,0.15); /* Stronger shadow on hover */
}
.story-card h3 {
    margin-top: 0;
    color: #254E70;
    font-size: 1.6em; /* Larger heading for stories */
    margin-bottom: 15px; /* More space below heading */
    line-height: 1.3;
}
.story-card p.story-snippet { /* Style for the truncated story snippet */
    margin: 0 0 15px 0;
    font-style: normal;
    color: #444;
    flex-grow: 1;
    line-height: 1.7;
    font-size: 1em;
    overflow: hidden; /* Hide overflow if text is too long */
    text-overflow: ellipsis; /* Add ellipsis for truncated text */
    display: -webkit-box;
    -webkit-line-clamp: 4; /* Limit to 4 lines for snippet */
    -webkit-box-orient: vertical;
}
.story-card span.story-author { /* Use a more specific class for author */
    font-weight: bold;
    color: #3E93AA; /* Use a highlight color for the name */
    text-align: right;
    display: block;
    margin-top: 10px;
    font-size: 0.95em;
}
.story-card .read-more-btn { /* Style for the "Read More" button */
    background: #3E93AA; /* A distinct color for the button */
    color: #fff;
    border: none;
    padding: 8px 15px;
    border-radius: 6px;
    cursor: pointer;
    transition: background 0.2s, transform 0.1s;
    margin-top: 15px; /* Space above the button */
    align-self: flex-end; /* Align button to the right within the card */
    font-size: 0.95em;
}
.story-card .read-more-btn:hover {
    background: #254E70; /* Darker blue on hover */
    transform: translateY(-2px);
}


/* Write Your Story Section (Enhanced Styling) */
.write-story {
    margin-top: 40px; /* More space from the story list */
    background: linear-gradient(135deg, #f0f8ff, #e0f2f7); /* Subtle gradient background */
    border-radius: 15px; /* More rounded corners */
    box-shadow: 0 10px 25px rgba(0,0,0,0.12); /* Stronger, softer shadow */
    padding: 35px; /* Increased padding */
    max-width: 700px; /* Wider max-width */
    margin-left: auto;
    margin-right: auto;
    text-align: center; /* Center content */
    border: 1px solid #d0e8f2; /* Light border */
}
.write-story h3 {
    color: #1C3852; /* Darker heading color */
    margin-bottom: 15px;
    font-size: 2em; /* Larger heading */
}
.write-story .story-intro-text { /* New style for the intro paragraph */
    font-size: 1.1em;
    color: #555;
    margin-bottom: 25px;
    line-height: 1.7;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}
.write-story textarea {
    width: 100%; /* Full width within its container */
    min-height: 180px; /* Taller textarea */
    border-radius: 10px; /* More rounded */
    border: 1px solid #a7c7e7; /* Blueish border */
    padding: 15px; /* More padding */
    font-size: 1.05em; /* Slightly larger font */
    resize: vertical;
    box-shadow: inset 0 2px 5px rgba(0,0,0,0.08); /* More prominent inner shadow */
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}
.write-story textarea:focus {
    border-color: #3E93AA; /* Highlight on focus */
    box-shadow: inset 0 2px 5px rgba(0,0,0,0.1), 0 0 0 4px rgba(62, 147, 170, 0.2); /* Outer glow on focus */
    outline: none;
}
.write-story button {
    margin-top: 25px; /* More space */
    padding: 14px 35px; /* Larger button */
    background: #254E70;
    color: #fff;
    border: none;
    border-radius: 8px; /* More rounded */
    cursor: pointer;
    font-size: 1.2em; /* Larger font */
    font-weight: bold;
    transition: background 0.2s, transform 0.1s, box-shadow 0.2s;
    box-shadow: 0 5px 15px rgba(0,0,0,0.15); /* Button shadow */
}
.write-story button:hover {
    background: #3E93AA;
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.2);
}
.write-story button:active {
    transform: translateY(0);
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
.write-story .saved-message { /* Specific style for the saved message */
    margin-top: 20px;
    padding: 12px 20px;
    background-color: #d4edda; /* Success green background */
    color: #155724; /* Dark green text */
    border: 1px solid #c3e6cb;
    border-radius: 8px;
    font-weight: bold;
    font-size: 1em;
    display: flex; /* Use flex for centering content */
    align-items: center;
    justify-content: center;
    gap: 10px; /* Space for potential icon */
    opacity: 0; /* Start hidden for animation */
    transform: translateY(10px); /* Start slightly below */
    transition: opacity 0.3s ease, transform 0.3s ease;
}
/* Animation for saved message */
.write-story .saved-message:not([style*="display: none"]) {
    opacity: 1;
    transform: translateY(0);
}


/* Footer */
footer {
    background: #254E70;
    color: #fff;
    text-align: center;
    padding: 18px 0 8px 0;
    margin-top: 35px;
    font-size: 0.9em;
}
footer a {
    color: #A7C7E7;
    text-decoration: none; /* No underline by default */
    margin: 0 5px;
}
footer a:hover {
    text-decoration: underline;
}
.logo-img-footer { /* Specific style for footer logo */
    height: 32px;
    vertical-align: middle;
    margin-bottom: -8px;
    margin-right: 8px;
}
.footer-container { /* For index.html footer layout */
  display: flex;
  align-items: center;
  max-width: 1100px;
  margin: auto;
  justify-content: space-between;
  flex-wrap: wrap;
}
.footer-container .logo { /* For index.html footer logo (older, less specific) */
  margin-right: 14px;
  height: 32px;
}
.footer-links { /* For index.html footer links layout */
  display: flex;
  flex-wrap: wrap;
  gap: 28px;
}


/* Stats Section (Charts) */
#graph-section-1 { /* Added a new ID for the main graph section wrapper */
    padding: 60px 5%; /* Consistent padding with other sections */
    text-align: center;
    background-color: #f9f9f9; /* Light background for this section */
}

#graph-section-1 h2 {
    color: #254E70;
    margin-bottom: 40px;
    font-size: 2.2em;
}

.stats-container {
    display: flex;
    justify-content: center; /* Center the two chart sections */
    align-items: flex-start; /* Align items to the top if they have different heights */
    gap: 30px; /* Increased gap between the two charts */
    flex-wrap: wrap; /* Allow wrapping on smaller screens */
    max-width: 1100px; /* Limit overall width for better layout */
    margin: 0 auto; /* Center the container itself */
}

.stats-section {
    flex: 1 1 48%; /* Adjusted flex basis for two columns with a small gap */
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 4px 16px rgba(50,50,80,0.08);
    padding: 28px;
    text-align: center;
    min-width: 350px; /* Ensure charts have enough space even when wrapping */
    box-sizing: border-box; /* Include padding in width calculation */
}
.stats-section h3 { /* Changed h2 to h3 for chart titles */
    color: #254e70;
    margin-bottom: 20px;
    font-size: 1.8em; /* Slightly smaller for charts */
}
canvas {
    max-width: 100%;
    height: auto;
}

/* Animation classes */
.animate {
    opacity: 0;
    transform: translateY(40px);
    transition: all 1s ease-out;
}

.animate.show {
    opacity: 1;
    transform: translateY(0);
}

/* AI Chat Section - Specific Styling */
.ai-chat-section {
    background: #fff;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(50,50,80,0.07);
    margin: 32px auto 0 auto;
    padding: 24px;
    max-width: 660px;
    text-align: center;
    display: flex; /* Make it a flex container */
    flex-direction: column; /* Stack children vertically */
}
.ai-chat-section h2 {
    color: #254E70;
    margin-top: 0;
    margin-bottom: 20px;
    font-size: 2em;
}

#gemini-chat-box {
    display: flex;
    gap: 10px; /* More space between input and button */
    justify-content: center;
    align-items: flex-end; /* Align input and button bottoms */
    margin-bottom: 15px; /* Space between input section and chat display */
}
#gemini-input {
    flex-grow: 1; /* Allow textarea to fill space */
    width: auto; /* Override fixed width */
    padding: 10px 12px; /* More padding */
    font-size: 1em; /* Adjusted font size */
    border-radius: 8px; /* More rounded corners */
    border: 1px solid #ccc;
    resize: vertical; /* Allow vertical resizing */
    min-height: 40px; /* Minimum height for better appearance */
    max-height: 120px; /* Prevent it from getting too large */
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}
#gemini-input:focus {
    border-color: #3E93AA;
    box-shadow: 0 0 0 3px rgba(62, 147, 170, 0.2);
    outline: none;
}

#gemini-chat-box button {
    background: #254E70;
    color: #fff;
    border: none;
    padding: 10px 22px; /* More padding for button */
    border-radius: 8px;
    font-size: 1.1em; /* Larger font */
    cursor: pointer;
    transition: background 0.2s, transform 0.1s;
    box-shadow: 0 3px 6px rgba(0,0,0,0.1);
}
#gemini-chat-box button:hover {
    background: #3E93AA;
    transform: translateY(-1px);
}
#gemini-chat-box button:active {
    background: #1C3852;
    transform: translateY(0);
}
#gemini-chat-box button:disabled {
    background-color: #cccccc;
    cursor: not-allowed;
    box-shadow: none;
}


/* Chat response container (the scrollable chat window) */
#gemini-response {
    margin-top: 15px; /* Space from input area */
    text-align: left;
    min-height: 150px; /* Minimum height for chat window */
    max-height: 400px; /* Maximum height before scrolling */
    overflow-y: auto; /* Make it scrollable */
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 15px; /* Padding inside the chat window */
    background-color: #f9f9f9;
    box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);
    display: flex;
    flex-direction: column; /* Stack messages */
    gap: 10px; /* Space between chat bubbles */
}

/* Individual Chat Message Styling */
.chat-message {
    padding: 10px 15px;
    border-radius: 18px; /* Rounded pill shape */
    line-height: 1.6;
    max-width: 85%; /* Keep messages from spanning full width */
    word-wrap: break-word; /* Ensure long words break */
    box-shadow: 0 1px 3px rgba(0,0,0,0.08); /* Subtle shadow for bubbles */
    clear: both; /* Ensures new messages don't float next to previous */
}

.user-message {
    background-color: #A7C7E7; /* User bubble color */
    color: #222;
    align-self: flex-end; /* Push user messages to the right */
    margin-left: auto; /* Ensure it stays right-aligned */
    border-bottom-right-radius: 5px; /* Flatten corner towards source */
}

.model-message {
    background-color: #E4EAF2; /* AI bubble color */
    color: #333;
    align-self: flex-start; /* Push AI messages to the left */
    margin-right: auto; /* Ensure it stays left-aligned */
    border-bottom-left-radius: 5px; /* Flatten corner towards source */
}

.error-message {
    background-color: #ffe0e0; /* Light red for errors */
    color: #cc0000;
    border: 1px solid #ffb3b3;
    text-align: center;
    align-self: center; /* Center error messages */
    font-weight: bold;
    border-radius: 8px; /* Less rounded for errors */
}

/* Markdown elements within messages (important for AI response formatting) */
.model-message p:last-child {
    margin-bottom: 0; /* Remove extra margin from last paragraph in a message */
}

.model-message h1, .model-message h2, .model-message h3, .model-message h4, .model-message h5, .model-message h6 {
    color: #254E70; /* Darker color for headings within AI responses */
    margin-top: 15px;
    margin-bottom: 10px;
    padding-bottom: 0;
    border-bottom: none; /* No underline for headings in chat bubbles */
    font-size: 1.3em;
    line-height: 1.3;
}
.model-message h2 { font-size: 1.2em; }
.model-message h3 { font-size: 1.1em; }
.model-message h4 { font-size: 1em; }


.model-message ul, .model-message ol {
    margin-left: 20px;
    margin-bottom: 10px;
    padding: 0;
}

.model-message li {
    margin-bottom: 5px;
}

.model-message pre { /* Code blocks */
    background-color: #f0f0f0;
    padding: 10px;
    border-radius: 6px;
    overflow-x: auto; /* Enable horizontal scroll for long code lines */
    font-family: 'Consolas', 'Monaco', monospace;
    font-size: 0.85em;
    border: 1px solid #e0e0e0;
    line-height: 1.3;
    margin-top: 10px;
    margin-bottom: 10px;
    white-space: pre-wrap; /* Ensure preformatted text wraps */
    word-wrap: break-word; /* Break long words in preformatted blocks */
}

.model-message code { /* Inline code */
    font-family: 'Consolas', 'Monaco', monospace;
    background-color: #e6e6e6;
    padding: 1px 4px;
    border-radius: 3px;
    color: #c7254e; /* Distinct color for inline code */
    font-size: 0.9em;
}

/* Loading Indicator Styling */
.loading-indicator {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-top: 15px;
    color: #254E70;
    font-weight: bold;
    flex-shrink: 0;
}

.loading-indicator span {
    display: inline-block;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background-color: #254E70;
    margin: 0 5px;
    animation: bounce 0.6s infinite alternate;
}

.loading-indicator span:nth-child(2) {
    animation-delay: 0.2s;
}

.loading-indicator span:nth-child(3) {
    animation-delay: 0.4s;
}

@keyframes bounce {
    from {
        transform: translateY(0);
    }
    to {
        transform: translateY(-8px);
    }
}

/* Error Display Styling */
.error-display {
    margin-top: 15px;
    padding: 12px;
    background-color: #ffe0e0; /* Light red background */
    border: 1px solid #ffb3b3; /* Red border */
    border-radius: 8px;
    color: #cc0000; /* Darker red text */
    font-weight: bold;
    flex-shrink: 0;
    text-align: center;
}

.error-display #errorMessage {
    word-break: break-all; /* Break long error messages */
}

/* Utility Class */
.hidden {
    display: none !important;
}

/* Quiz Page Specific Styles (for index2.html, but also used by summary in index3.html) */
.quiz-page-container { /* New container for the entire quiz page content */
    max-width: 800px; /* Max width for the quiz content */
    margin: 40px auto; /* Center it and add vertical space */
    padding: 0 20px; /* Add padding for smaller screens */
}

.quiz-header { /* Style for the new quiz header */
    text-align: center;
    margin-bottom: 40px;
    padding: 20px;
    background: linear-gradient(90deg, #c2e9fb 0%, #a1c4fd 100%); /* Light gradient background */
    border-radius: 15px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    color: #254E70;
}

.quiz-header h1 {
    font-size: 2.5em;
    margin-bottom: 15px;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.05); /* Subtle text shadow */
}

.quiz-header p {
    font-size: 1.1em;
    line-height: 1.6;
    color: #1C3852;
    max-width: 600px;
    margin: 0 auto;
}

#quiz { /* This ID is for the main container in index2.html */
    /* Removed max-width and padding as quiz-page-container handles it */
    margin: 0 auto; /* Center within its parent */
}

.quiz-card { /* Main card style for quiz questions in index2.html */
    background: #fff;
    box-shadow: 0 8px 20px rgba(50,50,80,0.1); /* Stronger shadow */
    border-radius: 15px; /* More rounded corners */
    padding: 35px; /* Increased padding */
    margin-bottom: 30px; /* More space below card */
    text-align: center;
    border: 1px solid #e0e0e0; /* Subtle border */
    position: relative; /* For question number positioning */
}

.question-number { /* New style for question number */
    position: absolute;
    top: -15px; /* Position above the card */
    left: 50%;
    transform: translateX(-50%);
    background: #3E93AA; /* Highlight color */
    color: #fff;
    padding: 8px 15px;
    border-radius: 20px; /* Pill shape */
    font-weight: bold;
    font-size: 1.1em;
    box-shadow: 0 4px 10px rgba(0,0,0,0.15);
    z-index: 1; /* Ensure it's above the card */
}

.quiz-card h2 { /* Question text */
    font-size: 1.8em;
    color: #254E70;
    margin-bottom: 30px; /* More space below question */
    line-height: 1.4;
}

.quiz-options {
    display: grid;
    margin: 20px 0;
    gap: 15px; /* More space between buttons */
}

.quiz-options button {
    background: #e4eaf2;
    color: #222;
    border: none;
    padding: 15px 20px; /* Larger buttons */
    border-radius: 10px; /* More rounded */
    font-size: 1.1em; /* Larger font */
    cursor: pointer;
    transition: background 0.2s, transform 0.1s, box-shadow 0.2s;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08); /* Subtle button shadow */
}
.quiz-options button.selected, .quiz-options button:hover {
    background: #A7C7E7; /* Lighter blue on hover/selected */
    color: #222;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15); /* More pronounced shadow on hover/selected */
}
.quiz-options button:active {
    transform: translateY(0);
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

.quiz-nav-buttons {
    display: flex;
    justify-content: space-between;
    margin-top: 30px; /* More space above navigation buttons */
}
.quiz-nav-buttons button {
    padding: 12px 25px; /* Larger nav buttons */
    border-radius: 8px; /* More rounded */
    border: none;
    cursor: pointer;
    background: #254E70;
    color: white;
    font-size: 1.1em;
    transition: background 0.2s, transform 0.1s;
    box-shadow: 0 3px 8px rgba(0,0,0,0.1);
}
.quiz-nav-buttons button:hover:not(:disabled) {
    background: #3E93AA;
    transform: translateY(-1px);
}
.quiz-nav-buttons button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    box-shadow: none;
}
.quiz-submit {
    background: #47B39C; /* Green for submit */
}
.quiz-submit:hover:not(:disabled) {
    background: #388e7b; /* Darker green on hover */
}

/* Quiz Summary Styles (for index3.html) */
.summary-section-wrapper { /* This is the main container for the summary in index3.html */
    max-width: 700px; /* Limit width for better readability */
    margin: 40px auto; /* Center it and add vertical space */
    padding: 30px; /* Internal padding */
    background-color: #ffffff; /* White background for a card effect */
    box-shadow: 0 8px 20px rgba(0,0,0,0.1); /* More pronounced shadow */
    border-radius: 15px; /* More rounded corners */
    text-align: center; /* Center content within the wrapper */
    display: none; /* Hidden by default, shown by script.js if quiz completed */
}

.summary-card { /* This class is applied to the content INSIDE summary-section-wrapper by script.js */
    /* Remove redundant styles as the wrapper now handles the main card look */
    margin-bottom: 0;
    padding: 0;
    box-shadow: none;
    background: none;
}

.summary-card h3 {
    margin-top: 0;
    color: #254E70;
    font-size: 1.8em; /* Slightly larger heading for prominence */
    margin-bottom: 15px;
}
.summary-status { /* Unified style for status text */
    font-weight: bold;
    font-size: 1.4em; /* Slightly larger for emphasis */
    margin: 20px 0; /* More vertical space */
    padding: 10px 15px; /* Padding for the status text itself */
    border-radius: 8px; /* Rounded corners for the status box */
    display: inline-block; /* Allows padding and border to wrap content */
    box-shadow: 0 2px 5px rgba(0,0,0,0.05); /* Subtle shadow for status box */
}
/* Specific colors for status categories */
.summary-status.good {
    color: #155724; /* Dark green text */
    background-color: #d4edda; /* Light green background */
    border: 1px solid #c3e6cb;
}
.summary-status.average {
    color: #856404; /* Dark yellow/orange text */
    background-color: #fff3cd; /* Light yellow background */
    border: 1px solid #ffeeba;
}
.summary-status.bad {
    color: #721c24; /* Dark red text */
    background-color: #f8d7da; /* Light red background */
    border: 1px solid #f5c6cb;
}
.summary-status.medium {
    color: #004085; /* Dark blue text */
    background-color: #cce5ff; /* Light blue background */
    border: 1px solid #b8daff;
}

.summary-card p {
    margin-bottom: 15px; /* Increased space below paragraphs */
    font-size: 1.1em; /* Slightly larger text for readability */
    line-height: 1.7; /* Increased line height for better readability */
}
.summary-card ul {
    list-style-position: inside; /* Keep bullet points inside the list item */
    padding-left: 0; /* Remove default padding */
    margin-bottom: 20px; /* More space below lists */
    text-align: left; /* Align list items to the left */
    max-width: 550px; /* Slightly wider lists */
    margin-left: auto;
    margin-right: auto;
    border-top: 1px solid #e4eaf2; /* Separator for suggestions */
    padding-top: 15px; /* Space above list content */
}
.summary-card ul li {
    margin-bottom: 8px; /* More space between list items */
    font-size: 1em;
}
.summary-card .general-tips-section { /* New class for the general tips section */
    margin-top: 25px; /* More space above general tips */
    border-top: 1px solid #e4eaf2; /* Separator for general tips */
    padding-top: 20px; /* Space above general tips content */
    text-align: left; /* Align general tips to the left */
    max-width: 550px; /* Match list width */
    margin-left: auto;
    margin-right: auto;
}
.summary-card .general-tips-section strong {
    display: block; /* Make "General Tips" a block element */
    margin-bottom: 10px; /* Space below "General Tips" heading */
    font-size: 1.1em; /* Slightly larger font for heading */
    text-align: center; /* Center the "General Tips" heading */
}

.summary-card .retake { /* Retake button within summary */
    margin-top: 30px; /* More space above the retake button */
    padding: 14px 35px; /* Larger button */
    font-size: 1.2em;
}
#summary-table {
    width: 100%;
    margin: 18px auto 25px auto; /* More space below table */
    border-collapse: collapse;
    max-width: 450px; /* Slightly wider table */
    border: 1px solid #ddd; /* Subtle border around the table */
    border-radius: 8px; /* Rounded corners for the table */
    overflow: hidden; /* Ensures rounded corners apply to content */
}
#summary-table th, #summary-table td {
    border: 1px solid #eee; /* Lighter borders for cells */
    padding: 10px 12px; /* More padding in cells */
    font-weight: normal;
    text-align: center;
}
#summary-table th {
    background: #eef3f7; /* Lighter background for headers */
    color: #254E70;
    font-weight: bold; /* Bold headers */
}
#summary-table tr:nth-child(even) {
    background-color: #f9f9f9; /* Zebra striping for rows */
}


/* Modal Styles */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.7); /* Dark overlay */
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1001; /* Above everything else */
    opacity: 0; /* Start hidden for animation */
    visibility: hidden; /* Hide completely for animation */
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.modal-overlay.hidden {
    opacity: 0;
    visibility: hidden;
}

.modal-overlay:not(.hidden) {
    opacity: 1;
    visibility: visible;
}

.modal-content {
    background-color: #fff;
    padding: 30px;
    border-radius: 15px;
    max-width: 700px; /* Max width for modal content */
    width: 90%; /* Responsive width */
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    position: relative;
    max-height: 90vh; /* Max height to allow scrolling for long stories */
    overflow-y: auto; /* Enable scrolling within the modal content */
    transform: translateY(20px); /* Start slightly below for animation */
    opacity: 0; /* Start hidden for animation */
    transition: transform 0.3s ease, opacity 0.3s ease;
}

.modal-overlay:not(.hidden) .modal-content {
    transform: translateY(0); /* Slide up into view */
    opacity: 1;
}

.modal-content h3 {
    color: #254E70;
    font-size: 1.8em;
    margin-top: 0;
    margin-bottom: 20px;
    text-align: center;
}

.modal-content p {
    font-size: 1.1em;
    line-height: 1.8;
    color: #333;
    margin-bottom: 20px;
    text-align: justify; /* Justify text for better readability */
}

.modal-content span#modalStoryAuthor {
    display: block;
    text-align: right;
    font-weight: bold;
    color: #3E93AA;
    font-size: 1em;
    margin-top: 15px;
}

.close-button {
    position: absolute;
    top: 15px;
    right: 20px;
    font-size: 2.5em;
    font-weight: bold;
    color: #888;
    cursor: pointer;
    transition: color 0.2s;
}

.close-button:hover,
.close-button:focus {
    color: #555;
}


/* Responsive Styles */
@media (max-width: 768px) {
    .nav-toggle-label {
        display: block;
        cursor: pointer;
        order: 1; /* Puts hamburger on the left */
        padding: 10px;
        position: relative;
        z-index: 11; /* Above nav links when open */
    }

    .nav-toggle-label span {
        display: block;
        width: 25px;
        height: 3px;
        background-color: #fff;
        margin: 5px 0;
        transition: transform 0.3s ease, opacity 0.3s ease;
    }

    .nav-links {
        position: absolute;
        top: 60px; /* Below navbar */
        left: 0;
        width: 100%;
        background: #254E70;
        flex-direction: column;
        height: 0;
        overflow: hidden;
        transition: height 0.3s ease, padding 0.3s ease;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        z-index: 9;
    }

    .nav-links.active {
        height: auto; /* Adjust based on content */
        max-height: 300px; /* Max height to prevent overflow issues */
        padding-bottom: 20px; /* Add some padding at the bottom when open */
    }

    .nav-links li {
        margin: 0;
        text-align: left; /* Align text to the left for mobile menu items */
        width: 100%;
    }

    .nav-links a {
        padding: 12px 20px; /* More padding for mobile clickable area */
        border-bottom: 1px solid rgba(255,255,255,0.1); /* Separator */
        justify-content: flex-start; /* Align icon and text to the start */
        gap: 15px; /* Increased gap between icon and text for mobile */
    }
    .nav-links li:last-child a {
        border-bottom: none;
    }

    .nav-toggle:checked ~ .nav-links {
        height: auto;
        max-height: 300px; /* Or specific height */
        padding-bottom: 20px;
    }

    /* Hamburger animation */
    .nav-toggle:checked + .nav-toggle-label span:nth-child(1) {
        transform: translateY(8px) rotate(45deg);
    }
    .nav-toggle:checked + .nav-toggle-label span:nth-child(2) {
        opacity: 0;
    }
    .nav-toggle:checked + .nav-toggle-label span:nth-child(3) {
        transform: translateY(-8px) rotate(-45deg);
    }

    .navbar {
        justify-content: space-between; /* Space out logo and hamburger */
    }
    .nav-left {
        order: 2; /* Put logo on the right of hamburger */
    }


    #hero {
        padding: 40px 5%;
    }
    #hero h1 {
        font-size: 2em;
    }
    #hero p {
        font-size: 1em;
    }

    #why-mental-health, #quick-explore, #info, #stories { /* Added new sections */
        padding: 30px 5%;
    }
    .why-points, .quick-links-grid { /* Responsive for new grids */
        flex-direction: column;
        gap: 20px;
    }
    .point-card, .explore-card {
        flex: 1 1 100%;
        max-width: 100%;
    }

    .disorder-card, .story-card {
        flex: 1 1 100%; /* Stack cards vertically on small screens */
        max-width: 100%;
        margin: 8px 0;
    }
    .stats-container {
        flex-direction: column;
        gap: 20px;
        padding: 0 5%;
    }
    .stats-section {
        flex: 1 1 auto;
        min-width: unset; /* Remove min-width to allow full collapse */
        padding: 20px;
    }
    canvas {
        width: 100% !important;
        height: 250px !important; /* Adjust height for smaller screens */
    }
    .ai-chat-section {
        padding: 20px;
        margin: 20px auto;
    }
    #gemini-chat-box {
        flex-direction: column;
        align-items: stretch;
        gap: 10px;
    }
    #gemini-input {
        width: auto;
    }
    #gemini-chat-box button {
        width: 100%; /* Full width button */
    }

    /* Modal responsive adjustments */
    .modal-content {
        padding: 20px;
        width: 95%; /* Make modal slightly wider on small screens */
    }
    .modal-content h3 {
        font-size: 1.5em;
    }
    .modal-content p {
        font-size: 1em;
    }
    .close-button {
        font-size: 2em;
        top: 10px;
        right: 15px;
    }

    /* Write Your Story responsive adjustments */
    .write-story {
        padding: 25px;
    }
    .write-story h3 {
        font-size: 1.8em;
    }
    .write-story .story-intro-text {
        font-size: 1em;
    }
    .write-story textarea {
        min-height: 150px;
    }
    .write-story button {
        padding: 12px 30px;
        font-size: 1.1em;
    }

    /* Quiz specific responsive adjustments */
    .quiz-page-container {
        padding: 0 15px; /* Adjust padding for smaller screens */
    }
    .quiz-header {
        padding: 15px;
        margin-bottom: 30px;
    }
    .quiz-header h1 {
        font-size: 2em;
    }
    .quiz-header p {
        font-size: 0.95em;
    }
    .quiz-card {
        padding: 25px;
        margin-bottom: 20px;
    }
    .quiz-card h2 {
        font-size: 1.5em;
        margin-bottom: 20px;
    }
    .quiz-options button {
        padding: 12px 15px;
        font-size: 1em;
    }
    .quiz-nav-buttons {
        flex-direction: column; /* Stack buttons vertically */
        gap: 10px; /* Space between stacked buttons */
        margin-top: 20px;
    }
    .quiz-nav-buttons button {
        width: 100%; /* Full width buttons */
        padding: 12px 20px;
        font-size: 1em;
    }
}
